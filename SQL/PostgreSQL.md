Содержание

1. 1. [Кто пользуется PostgreSQL](https://blog.skillfactory.ru/glossary/postgresql/#кто-пользуется-postgresql)
2. 2. [Для чего нужна PostgreSQL](https://blog.skillfactory.ru/glossary/postgresql/#для-чего-нужна-postgresql)
3. 3. [Преимущества PostgreSQL](https://blog.skillfactory.ru/glossary/postgresql/#преимущества-postgresql)
4. 4. [Недостатки](https://blog.skillfactory.ru/glossary/postgresql/#недостатки)
5. 5. [Как скачать и начать работу с PostgreSQL](https://blog.skillfactory.ru/glossary/postgresql/#как-скачать-и-начать-работу-с-postgresql)
6. 6. [Создание таблицы](https://blog.skillfactory.ru/glossary/postgresql/#создание-таблицы)

PostgreSQL — это объектно-реляционная система управления базами данных (ORDBMS), наиболее развитая из открытых [СУБД](https://blog.skillfactory.ru/glossary/subd/) в мире. Имеет открытый исходный код и является альтернативой коммерческим базам данных.

![лого PostgreSQL](https://blog.skillfactory.ru/wp-content/uploads/2023/02/postgresql_elephant.svg-5325977.png)

Логотип PostgreSQL

Ранние версии системы были основаны на старой программе POSTGRES University, созданной университетом Беркли: так появилось название PostgreSQL. И сейчас СУБД иногда называют «Постгрес». Существуют сокращения PSQL и PgSQL — они тоже обозначают PostgreSQL.

СУБД позволяет гибко управлять базами данных (БД). С ее помощью можно создавать, модифицировать или удалять записи, отправлять транзакцию — набор из нескольких последовательных запросов на особом языке запросов SQL.


## Кто пользуется PostgreSQL

- Бэкенд-разработчики, которым приходится взаимодействовать с базами данных при работе с «серверной» частью сайта.
- Администраторы и разработчики баз данных — специалисты, основная задача которых заключается в обслуживании и поддержке работоспособности базы.
- DevOps-инженеры, обслуживающие рабочую инфраструктуру проекта.


## Для чего нужна PostgreSQL

![интерфейс PostgreSQL](https://blog.skillfactory.ru/wp-content/uploads/2023/08/postgresql.png)

Интерфейс программы PostgreSQL

- Гибкий доступ к базам данных, их организация и хранение.
- Управление записями в базах данных: создание, редактирование и удаление, обновление версий и так далее.
- Просмотр нужной информации из базы по запросу, например для ее отправки на сайт или в интерфейс приложения.
- Отправка транзакций, последовательных запросов, собранных в подобие скрипта.
- Настройка и контроль доступа к той или иной информации, группировка пользователей по уровню прав.
- Контроль версий и организация одновременного доступа к базе из разных источников так, чтобы предотвратить сбои.
- Защита информации от возможных утечек и потерь.
- Контроль состояния базы в целом.

## Преимущества PostgreSQL

Иногда СУБД называют бесплатным аналогом [Oracle Database](https://blog.skillfactory.ru/glossary/oracle-database/). Обе системы адаптированы под большие проекты и высокую нагрузку. Но есть разница: они по-разному хранят данные, предоставляют разные инструменты и различаются возможностями. ==Важная особенность PostgreSQL в том, что эта система — feature-rich: так называют проекты с широким функционалом.==

**Объектно-реляционная модель.** Традиционно популярные СУБД — реляционные. Это значит, что данные, которые в них хранятся, представляются в виде записей, связанных друг с другом отношениями, — relations. Получаются связанные списки, которые могут иметь между собой те или иные отношения, — так и образуется таблица.

Существует еще одна популярная модель — объектная. Данные представляются в виде объектов, их атрибутов, методов и классов. Объектная модель поддерживает возможности, о которых мы подробно рассказывали в [статье про ООП](https://blog.skillfactory.ru/glossary/oop-obektno-orientirovannoe-programmirovanie/), например наследование.

PostgreSQL — объектно-реляционная СУБД. Это значит, что она поддерживает и объектный, и реляционный подход.

**Поддержка множества типов данных.** Еще одна особенность PostgreSQL — поддержка большого количества типов записи информации. Это не только стандартные целочисленные значения, числа с плавающей точкой, строки и булевы значения («да/нет»), но и денежный, геометрический, перечисляемый, бинарный и другие типы. PostgreSQL «из коробки» поддерживает битовые строки и сетевые адреса, массивы данных, в том числе многомерные, композитные типы и другие сложные структуры. В ней есть поддержка [XML](https://blog.skillfactory.ru/glossary/xml/), [JSON](https://blog.skillfactory.ru/glossary/json/) и NoSQL-баз.

При необходимости к СУБД можно подключить поддержку типов данных, которые нужны в конкретном проекте. В PostgreSQL есть несколько внутренних форматов, которые используются только в ней.

**Работа с большими объемами.** В большинстве СУБД, рассчитанных на средние и небольшие проекты, есть ограничения по объему базы и количеству записей в ней. В PostgreSQL ограничений нет.

Ограничения касаются только конкретных записей. Одна таблица может занимать не больше 32 Тб, а одна запись — 1,6 Тб. В одном поле записи может быть не больше 1 Гб данных, а максимальное количество полей зависит от типа и составляет от 250 до 1600 штук. Максимальных значений хватает, чтобы хранить в БД любые данные.

**Поддержка сложных запросов.** PostgreSQL работает со сложными, составными запросами. Система справляется с задачами разбора и выполнения трудоемких операций, которые подразумевают и чтение, и запись, и валидацию одновременно. Она медленнее аналогов, если речь заходит только о чтении, но в других аспектах превосходит конкурентов.

**Написание функций на нескольких языках.** В PostgreSQL можно писать собственные функции — пользовательские блоки кода, которые выполняют те или иные действия. Эта возможность есть практически в любых СУБД, но PostgreSQL поддерживает больше языков, чем аналоги. Кроме стандартного [SQL](https://blog.skillfactory.ru/glossary/sql/), в PostgreSQL можно писать на C и [C++](https://blog.skillfactory.ru/cplus-komu-i-dlya-chego-nuzhen/), [Java](https://blog.skillfactory.ru/java-komu-i-dlya-chego-nuzhen/), [Python](https://blog.skillfactory.ru/komu-i-dlya-chego-nuzhen-python/), [PHP](https://blog.skillfactory.ru/glossary/php/), Lua и Ruby. Он поддерживает V8 — один из движков [JavaScript](https://blog.skillfactory.ru/glossary/javascript/), поэтому JS тоже можно использовать совместно с PgSQL. Реализована поддержка Delphi, Lisp и прочих редких языков. При необходимости можно расширить систему под другие ЯП.

Модификация SQL, которая используется в PostgreSQL, называется PL/pgSQL. Это процедурное расширение, которое поддерживает сложные вычисления и дополняет «классический» SQL новыми возможностями.

**Одновременная модификация базы.** Важная особенность PostgreSQL — возможность одновременного доступа к базе с нескольких устройств. В СУБД реализована клиент-серверная архитектура, когда база данных хранится на сервере, а доступ к ней осуществляется с клиентских компьютеров. Так, например, реализуются разнообразные сайты. Одна из возможных сложностей — ситуация, когда несколько человек одновременно модифицируют базу и нужно избежать конфликтов.

В PostgreSQL для этого используется технология MVCC — Multiversion Concurrency Control, многоверсионное управление параллельным доступом. Каждый пользователь получает снапшот — «снимок» базы, в который вносятся изменения. Только после фиксации транзакции они поступают в исходную базу данных. Пока человек вносит изменения, они не видны другим пользователям. Конфликтов не возникает, как и необходимости блокировать чтение или запись.

**Соответствие ACID.** ACID — это набор принципов для обеспечения целостности данных. Аббревиатура расшифровывается как Atomicity, Consistency, Isolation, Durability — атомарность, согласованность, изолированность, прочность. Если база данных соответствует этим принципам, она ведет себя максимально предсказуемо и надежно. В ней низок риск конфликта или непредвиденного поведения системы.

PostgreSQL соблюдает требования ACID благодаря технологии MVCC. Это делает систему надежной и безопасной в использовании, а данные — защищенными от возможных сбоев, ошибок и потерь.

**Возможность расширения.** Разработчик может написать для СУБД собственные типы и их преобразования, операции и функции, ограничения и индексы, собственный процедурный язык для запросов. PostgreSQL можно модифицировать практически под любую нестандартную задачу.

**Высокая мощность и широкая функциональность.** PostgreSQL — возможно, единственная бесплатная СУБД с открытым исходным кодом, которая рассчитана на работу с объемными и сложными проектами. Она мощная, производительная, способна эффективно работать с большими массивами данных. Есть примеры реального использования СУБД для баз данных в несколько петабайт с сотнями тысяч запросов в секунду. На главной странице [официального сайта](https://www.postgresql.org/) PostgreSQL называют «самой продвинутой бесплатной СУБД». Система действительно имеет высокую функциональность и не уступает платным продуктам.

**Открытость.** PostgreSQL — ПО с открытым исходным кодом, которое распространяется по свободной лицензии. Это означает, что любой разработчик может посмотреть, как написана система, или предложить для нее свои правки. СУБД разрабатывается сообществом энтузиастов и в определенной степени никому не принадлежит, а значит, ее можно свободно и без ограничений использовать в своих проектах.

На базе PostgreSQL существуют коммерческие продукты с платным доступом — ими обычно пользуются крупные компании, которым нужна дополнительная функциональность. Это, например, связь с Oracle Database или продвинутый веб-интерфейс для администрирования БД.

**Минимальное количество багов.** PostgreSQL — проект, который известен высоким качеством отладки. Каждая версия системы появляется в доступе только после полной проверки, поэтому СУБД очень стабильна. Частая проблема бесплатных проектов — новые версии с большим количеством багов, но в случае с PostgreSQL такой проблемы нет.

Согласно независимым автоматизированным исследованиям, в исходном коде СУБД есть одна ошибка на 39 000 строк кода. Это в пять раз меньше, чем в [MySQL](https://blog.skillfactory.ru/glossary/mysql/), и в пятьдесят раз меньше, чем в ядре операционной системы [Linux](https://blog.skillfactory.ru/glossary/linux/).

**Кроссплатформенность.** Чаще всего PostgreSQL используют на серверах с операционными системами семейства Linux, но СУБД поддерживает и другие ОС. Ее можно установить в системы на базе Windows, BSD, macOS и Solaris. Кроме того, у PostgreSQL есть автономный веб-сервер PostgREST, с которым можно работать с помощью [REST API](https://blog.skillfactory.ru/glossary/rest-api/). СУБД можно развернуть и в облаке.

PostgreSQL не имеет однозначных недостатков. Она подходит для проектов, где нужна мощная база данных с высокой функциональностью. Но для большинства приложений и сайтов требуется менее мощная и более быстрая, легковесная, простая в освоении СУБД. Обычно в таких случаях используется MySQL.

## Недостатки

Несмотря на все достоинства этой выдающейся СУБД, у неё также есть некоторые недостатки:

**Сложности при настройке.** У PostgreSQL очень обширный набор возможностей. Очевидно, что такое разнообразие функций влечёт за собой множество настроек, что может вызвать затруднения у новичков. Корректная настройка базы данных требует глубокого понимания архитектуры и параметров.

**Повышенное потребление ресурсов.** В сравнении с некоторыми другими СУБД, PostgreSQL может потреблять больше ресурсов (включая оперативную память и процессорное время). Это особенно заметно при работе с большими объёмами данных и выполнении сложных запросов.

**Отсутствие некоторых функций.** По сравнению с определенными коммерческими аналогами PostgreSQL может немного уступать в функциональности.

Стоит отметить, что перечисленные недостатки в основном применимы к конкретным сценариям использования. В общем плане PostgreSQL остаётся одной из самых мощных и популярных открытых СУБД.

## Как скачать и начать работу с PostgreSQL

Скачать программное обеспечение можно с официального сайта: [на странице загрузки](https://www.postgresql.org/download/) представлены готовые к установке пакеты для разных операционных систем. Там же есть ссылка на репозиторий, где в том числе можно посмотреть, как менялись версии проекта, и ознакомиться с новыми правками.

После скачивания потребуется место для размещения серверной части СУБД. Обычно для этого арендуются мощности веб-серверов хостингов.

Более сложный процесс — настройка и развертывание базы данных, управление ей. Для этого потребуются знания бэкенд-разработчика или администратора БД. В случае с PostgreSQL нужно заранее ознакомиться с [документацией](https://www.postgresql.org/docs/) или мануалами. Также получить все перечисленные знания можно на курсах SkillFactory.

## Создание таблицы

Для создания таблицы в PostgreSQL используется язык SQL (Structured Query Language). Вот пример запроса, который создаст простую таблицу с несколькими столбцами:

CREATE TABLE имя_таблицы (

столбец1_имя тип_данных_столбца1,

столбец2_имя тип_данных_столбца2,

...,

столбецN_имя тип_данных_столбцаN

);

Пояснение к коду:

- `имя_таблицы` — это имя, которое вы хотите присвоить таблице;
- `столбец1_имя`, `столбец2_имя`, и так далее — это имена столбцов;
- `тип_данных_столбца1`, `тип_данных_столбца2`, и так далее — это типы данных для соответствующих столбцов.

Пример создания таблицы с именем users, содержащей столбцы id, username и email:

CREATE TABLE users (

id SERIAL PRIMARY KEY,

username VARCHAR(50),

email VARCHAR(100)

);

В этом примере используется тип данных `SERIAL` для автоматически генерируемого идентификатора, `VARCHAR` для строковых значений переменной длины.

После выполнения этого SQL-запроса, вам будет доступна новая таблица users с указанными столбцами. Это всего лишь базовый пример, и PostgreSQL поддерживает множество других типов данных и параметров настройки таблиц.