---
created: 2024-02-22T03:19:37 (UTC +06:00)
tags: []
source: https://andreyex.ru/linux/komandy-linux-i-komandy-shell/kak-skopirovat-fajly-s-pomoshhyu-komandy-sr-v-linux/
author: AndreyEx
---

# Как скопировать файлы с помощью команды ср в Linux | ИТ Блог. Администрирование серверов на основе Linux (Ubuntu, Debian, CentOS, openSUSE)

> ## Excerpt
> Это руководство покажет вам, как копировать файлы и каталоги в вашей системе с помощью командной строки Linux. Команда cp используется для копирования

---
На вопрос, откуда он, Диоген сказал: « Я — гражданин мира".

![Как скопировать файлы с помощью команды ср в Linux](%D0%9A%D0%B0%D0%BA%20%D1%81%D0%BA%D0%BE%D0%BF%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D1%82%D1%8C%20%D1%84%D0%B0%D0%B9%D0%BB%D1%8B%20%D1%81%20%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D1%8C%D1%8E%20%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B%20%D1%81%D1%80%20%D0%B2%20Linux%20%20%D0%98%D0%A2%20%D0%91%D0%BB%D0%BE%D0%B3.%20%D0%90%D0%B4%D0%BC%D0%B8%D0%BD%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%BE%D0%B2%20%D0%BD%D0%B0%20%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D0%B5%20Linux%20(Ubuntu,%20Debian,%20CentOS,%20openSUSE)/Kak-skopirovat-fajly-s-pomoshhyu-komandy-sr-v-Linux-330x250.png)

Это руководство покажет вам, как копировать файлы и каталоги в вашей системе с помощью командной строки Linux.

Команда cp используется для копирования файлов**.**

### Как скопировать файл из одной директории в другую с помощью Linux

Синтаксис для копирования файла с одного места на другое выглядит следующим образом:

```
cp /source/path/name /target/path/name
```

Например представьте, что вы имеете следующую структуру папок:

-   home
    -   andreyex
        -   documents
            -   folder\_one
                -   file\_one
                -   file\_two
                -   file\_three
            -   folder\_two
                -   file4

Если вы хотите скопировать file\_one из текущего местоположения в /home/andreyex/documents/folder\_one в /home/andreyex/documents/folder\_two, то вы должны ввести следующую команду в командной строке:

```
cp /home/andreyex/documents/folder_one/file_one /home/andreyex/documents/folder_two/file_one
```

Ярлыки вы можете сделать здесь.

Главная часть может быть заменена на тильду (~), что объясняется в этой статье. Это изменяет команду на:

```
cp ~/documents/folder_one/file_one ~/documents/folder_two/file_one
```

Вы можете просто опустить имя файла для цели, если вы собираетесь использовать то же имя файла

```
cp ~/documents/folder_one/file_one ~/documents/folder_two
```

Если вы уже в целевой папке вы можете просто заменить путь к цели с полной остановкой.

```
cp ~/documents/folder_one/file_one
```

В качестве альтернативы, если вы уже в исходной папке вы можете просто указать имя файла в качестве источника следующим образом:

```
cp file_one ~/documents/folder_two
```

### Как сделать резервную копию перед копированием файлов в Linux

В предыдущем разделе folder\_one содержит файл с именем file\_one и folder\_two. Представьте себе, что folder\_two имеет файл с именем file\_one и вы запустили следующую команду:

```
cp file_one ~/documents/folder_two
```

Приведенная выше команда перезапишет file\_one, который в настоящее время находится в folder\_two. Там нет подсказок, нет предупреждения и сообщения об ошибках, потому что, вы указали действительную команду.

Вы можете принять меры предосторожности при копировании файлов в Linux, для создания резервной копии файла, прежде чем он переписывает его. Просто используйте следующую команду:

```
cp -b /source/file /target/file
```

Например:

```
cp -b ~/documents/folder_one/file_one ~/documents/folder_two/file_one
```

В папке назначения теперь присутствует файл, который был скопирован и там будет также файл с тильдой (~) в конце, которая является резервной копией оригинального файла.

Вы можете изменить команду резервного копирования для работы в несколько ином виде, так что она создает пронумерованные резервные копии. Вы можете это сделать, если вы уже скопировали файлы и резервные копии уже существуют. Это является одной из форм контроля версий

```
cp --backup=numbered ~/documents/folder_one/file_one ~/documents/folder_two/file_one
```

Имя файла для резервных копий будет меняться: file\_one.~1~, file\_one.~2~ и т.д.

### Как запросить перед перезаписью файлов при копировании в Linux

Если вы не хотите делать резервные копии файлов, лежащих в вашей файловой системе, но вы также хотите, убедиться, что команда копия не перезаписывает файл без разбора вы можете получить приглашение, чтобы показать вопросом, не хотите ли вы перезаписать.

Для этого используйте следующий синтаксис:

```
cp -i /source/file /target/file
```

Например:

```
cp -i ~/documents/folder_one/file_one ~/documents/folder_two/file_one
```

Сообщение будет выглядеть следующим образом :  **cp: overwrite ‘./file1’?**

Для перезаписи файла нажмите Y на клавиатуре или для отмены нажмите N или CTRL и C одновременно.

### Что происходит при копировании символьных ссылок в Linux

Символическая ссылка немного походит на ярлык на рабочем столе. Содержимое символической ссылки является адрес физического файла.

Представьте себе, вы имеете следующую структуру папок:

-   home
    -   andreyex
        -   documents
            -   folder\_one
                -   file\_one
            -   folder\_two
                -   file\_one (symbolic links points to folder\_one/file\_one)
            -   folder3

Посмотрите на следующую команду:

```
cp ~/documents/folder_one/file_one ~/documents/folder3/file_one
```

Здесь не должно быть ничего нового, так как он копирует физический файл из одной папки в другую.

Что происходит, однако, если скопировать символическую ссылку из folder\_two в folder3?

```
cp ~/documents/folder_two/file_one ~/documents/folder3/file_one
```

Файл, который копируется в folder3 не будет символической ссылкой. Это на самом деле файл, на который указывает символическая ссылка, так на самом деле вы получите тот же результат, как если бы путем копирования file\_one из folder\_one.

Кстати вы можете получить тот же результат с помощью следующей команды:

```
cp -H ~/documents/folder_two/file_one ~/documents/folder3/file_one
```

Просто чтобы быть уверенным, хотя есть еще один переключатель, который абсолютно заставляет копировать файл, а не символическую ссылку:

```
cp -L ~/documents/folder_two/file_one ~/documents/folder3/file_one
```

Если вы хотите скопировать символическую ссылку необходимо указать следующую команду:

```
cp -d ~/documents/folder_two/file_one ~/documents/folder3/file_one
```

Чтобы символическую ссылку скопировать, а не физический файл с помощью следующей команды:

```
cp -P ~/documents/folder_two/file_one ~documents/folder3/file_one
```

### Как создавать жесткие ссылки с помощью команды ср

В чем разница между символической ссылкой и жесткой связи?

Символическая ссылка — это ярлык для физического файла. Он не содержит больше, чем адрес на физический файл.

Жесткая связь, на основную ссылку на тот же физический файл, но с другим именем. Это почти как прозвище. Это отличный способ организации файлов, не занимая дальнейшего дискового пространства.

Это руководство расскажет вам все, что вам нужно знать о жестких ссылках .

Вы можете создать жесткую ссылку с помощью команды ср.

```
cp -l ~/source/file ~/target/file
```

В качестве примера того, почему вы могли бы использовать жесткую ссылку учесть, что у вас есть папка под названием видео и в этой папке видео у вас есть действительно большой видео файл с именем honeymoon\_video.mp4. Теперь представьте, что вы также хотите, чтобы видео быть известным как barbados\_video.mp4, потому что он также имеет кадры Барбадоса.

Вы можете просто скопировать файл и дать ему новое имя, но это означает, что вы увеличиваете в два раза больше дискового пространства для того, что, по существу, то же самое видео.

Вы могли бы вместо того, чтобы создать символическую ссылку с именем barbados\_video.mp4, которая указывает на файл honeymoon\_video.mp4. Это будет работать хорошо, но если кто-то удалил honeymoon\_video.mp4 вы остались бы со ссылкой и ничего другого и связь по-прежнему занимает дисковое пространство.

Единственное отличие состоит в том, что они содержат разное количество индексных дескрипторов. (уникальные идентификаторы). Удаление файла honeymoon\_video.mp4 не удаляет файл, но только снижает количество для этого файла на 1. Файл будет удален только если все ссылки на этот файл будут удалены.

Чтобы создать ссылку вы могли бы сделать что-то вроде этого:

```
cp -l /videos/honeymoon_video.mp4 /videos/barbados_video.mp4
```

### Как создать символические ссылки с помощью команды ср

Если вы хотите создать символическую ссылку вместо жесткой ссылки вы можете использовать следующую команду:

```
cp -s /source/file /target/file
```

Опять же я бы лично вообще используют команду ln -s, но вместо этого работает хорошо.

### Как скопировать файлы, если они новее

Если вы хотите скопировать файлы в папку, но только с перезаписью файлов назначения, если исходный файл новее, то вы можете использовать следующую команду:

```
cp -u /source/file /target/file
```

Стоит отметить, что если файл не существует на целевой стороне, то копия будет иметь место.

### Как скопировать несколько файлов

Вы можете предоставить более одного исходного файла внутри команды копирования следующим образом:

```
cp /source/file_one /source/file_two /source/file_three /target
```

Приведенная выше команда будет копировать file\_one, file\_two и file\_three в целевую папку.

Если файлы соответствуют определенному шаблону, то вы можете также использовать групповые символы следующим образом:

```
cp /home/andreyex/music/*.mp3 /home/andreyex/music2
```

Приведенная выше команда будет копировать все файлы с расширением .mp3 в папку music2.

### Как скопировать папки

Копирование папок такое же, как копирование файлов.

Например представьте, что вы имеете следующую структуру папок:

-   home
    -   andreyex
        -   documents
            -   folder\_one
                -   file\_one
                -   file\_two
            -   folder\_two

Представьте, что вы хотите переместить папку folder\_one в папку folder\_two следующим образом:

-   home
    -   andreyex
        -   documents
            -   folder\_two
                -   folder\_one
                    -   file\_one
                    -   file\_two

Вы можете использовать следующую команду:

```
cp -r /home/andreyex/documents/folder_one /home/andreyex/documents/folder_two
```

Кроме того, можно использовать следующую команду:

```
cp -R /home/andreyex/documents/folder_one /home/andreyex/documents/folder_two
```

Это копирует содержимое folder\_one, а также любые суб-каталоги и файлы в пределах подкаталогов.

### Резюме

Это руководство дало вам инструменты требующиеся для копирования файлов в Linux. Для всего остального вы можете использовать команду Linux man.

```
man cp
```

Если вы нашли ошибку, пожалуйста, выделите фрагмент текста и нажмите _Ctrl+Enter_.

Просмотров поста: 144

___
