Содержание

1. 1. [Кто и зачем пользуется циклами](https://blog.skillfactory.ru/glossary/czikl/#кто-и-зачем-пользуется-циклами)
2. 2. [Какими бывают циклы](https://blog.skillfactory.ru/glossary/czikl/#какими-бывают-циклы)
3. 3. [Как можно модифицировать циклы](https://blog.skillfactory.ru/glossary/czikl/#как-можно-модифицировать-циклы)
4. 4. [Как прервать цикл](https://blog.skillfactory.ru/glossary/czikl/#как-прервать-цикл)
5. 5. [Что нужно знать при использовании циклов](https://blog.skillfactory.ru/glossary/czikl/#что-нужно-знать-при-использовании-циклов)

Цикл в программировании — это управляющая конструкция, которая заставляет какой-то блок [кода](https://blog.skillfactory.ru/glossary/programmnyj-kod/) выполняться несколько раз. Циклы есть в большинстве [языков программирования](https://blog.skillfactory.ru/glossary/yazyk-programmirovaniya/). Чаще всего их объявляют командами for, while или repeat.

Блок кода, который нужно повторять, называется телом цикла. Там может быть практически любой код, необходимый разработчику. Сама управляющая конструкция описывает, как долго повторять действия: можно задать четкое количество повторений или заставить цикл выполняться до достижения какого-то условия.

Сколько раз пройдет цикл, зависит от его условий и задачи. Бывают циклы, которые не могут выполниться ни разу, а бывают те, что проходят сотни [итераций](https://blog.skillfactory.ru/glossary/iteracziya/), вплоть до бесконечности. Иногда это ошибка, иногда — ожидаемое поведение.

## Кто и зачем пользуется циклами

Циклы встречаются в работе большинства программистов практически на всех языках программирования. Они есть в [Java](https://blog.skillfactory.ru/glossary/java/), [JavaScript](https://blog.skillfactory.ru/glossary/javascript/), [PHP](https://blog.skillfactory.ru/glossary/php/), [Python](https://blog.skillfactory.ru/glossary/python/), C++ — везде. Циклов в привычном виде нет разве что в очень низкоуровневых языках, близких к «железу», таких как ассемблер.

Циклами пользуются для задач, в рамках которых нужно повторить одно и то же действие несколько раз. Таких задач в разработке много. Например:

- построчно посчитать данные из файла;
- обработать каждый элемент структуры данных по очереди;
- видоизменить целый ряд данных;
- решить математическую задачу;
- обновить экран.
- решить математическую задачу;
- обновить экран.

Некоторые [алгоритмы](https://blog.skillfactory.ru/glossary/algoritm/) итеративные, то есть работают с несколькими итерациями — повторениями. Чтобы их реализовать, обычно нужны циклы.

Частичной альтернативой циклам в программировании можно назвать некоторые встроенные функции высшего порядка. Они могут выполнять несколько действий, например с [массивом](https://blog.skillfactory.ru/glossary/massiv/). Но такие функции есть не во всех языках и подходят не для всего. Циклы универсальнее.

## Какими бывают циклы

Обычно в языках программирования несколько видов циклов. У каждого из них свое назначение. Разберемся с основными.

**For.** Это цикл, который выполняется заданное количество раз. В большинстве C-подобных языков (то есть таких, которые внешне похожи на C и C++) он имеет похожую структуру:

```
for (<объявление переменной>; <условие>; <действие>) {
<подпрограмма>
}
```

Объявление переменной — это создание итератора, переменной, которая будет изменяться на каждом шаге цикла. Когда итератор достигнет какого-то значения, цикл закончится.

Условие описывает, должен ли цикл продолжаться. Пока оно выполняется, цикл работает. Чаще всего условие — итератор меньше или больше определенного числа. Соответственно, когда итератор достигает указанного значения, цикл останавливается.

Действие — то, что нужно выполнить в конце каждой итерации. Сюда записывают изменения итератора: например, добавить к нему единицу или отнять какое-то число.

![[fd4ab20c8e55d8df6b16865dde5c7a32_MD5.png]]

Стандартный случай — задается итератор, равный 0. Условие — итератор меньше какого-нибудь N. Действие — прибавить к итератору единицу. Цикл будет выполняться N+1 раз, потому что отсчет идет с нуля. Есть и вариации, их рассмотрим ниже.

В некоторых языках, таких как Python или [Pascal](https://blog.skillfactory.ru/glossary/pascal/), синтаксис цикла For другой. Но суть та же: им пользуются, когда нужное количество действий известно заранее.

**For in / for of / for-each.** Частный случай цикла for — когда нужно пройти по [структуре данных](https://blog.skillfactory.ru/glossary/struktura-dannyh/). Для этого в некоторых языках существует особая конструкция. Это цикл for, который вместо итератора работает с самой структурой данных, например массивом или объектом.

В JavaScript такой цикл называется for of (есть еще for in, но он работает немного иначе), в Java — for-each, в Python — for in. Синтаксис примерно такой:

```
for <итератор> in* <структура данных> {
<подпрограмма>
}

* in приведено для примера. В JS там не in, а of, а в Java и C++ — вообще двоеточие.
```

Такой цикл будет отрабатывать определенное количество раз, ровно столько, сколько элементов в структуре данных. А итератор на каждом шаге будет равняться или текущему элементу в структуре, или его номеру. Это зависит от языка и выбранной конструкции.

Этот подход удобен, ведь он позволяет более лаконично и понятно описывать работу с массивами и другими структурами данных.

==Не стоит путать этот цикл с функцией forEach(). Она проходит по массиву и что-то делает с каждым его элементом. Но это не цикл, а одна из функций высшего порядка, о которых мы говорили ранее.==

**While с предусловием.** While — совсем другой случай. Это цикл, который используют, если нужное количество действий заранее неизвестно. Он может выполниться несколько раз, один раз, бесконечное количество раз — или вообще не выполниться ни разу. Слово while переводится как «пока» и отражает суть: пока верно какое-то условие, цикл выполняется.

Синтаксис у него примерно такой, хотя в зависимости от языка детали могут различаться:

```
while (<условие>) {
<подпрограмма>
}
```

Он выглядит проще, чем for, и иногда используется как его альтернатива. Но суть у этого цикла другая. Например, мы заранее не знаем, сколько шагов придется сделать, чтобы реализовать итерационный алгоритм. В таких случаях и нужен while.

**While с постусловием.** Это вариация цикла while. Ее единственное отличие — условие пишется не до, а после тела цикла:

```
do {
<подпрограмма>
}

while (<условие>);
```

Условие будет проверяться, когда подпрограмма уже выполнится. А еще такой цикл всегда исполнится как минимум один раз, до проверки условия. Его используют реже, чем while с предусловием, но иногда такая конструкция выручает.

![[c90422a48fbc234561068c11b061ab4b_MD5.png]]

Блок-схема циклов с предусловием и постусловием

**Repeat / until.** В некоторых языках есть еще один вид цикла — repeat или until. Он похож на while, но, в отличие от него, описывает не условие для продолжения, а условие для выхода из цикла. Цикл закончится, когда условие окажется верным.

В Pascal это цикл с постусловием, который описывается так:

```
repeat {
<подпрограмма>
}

until (<условие>);

А, например, в Perl это цикл с предусловием:

until (<условие>) {
<подпрограмма>
}
```

Этот вид цикла не прижился в разработке и встречается довольно редко. В большинстве языков его нет. Но о нем стоит помнить, если вы хотите писать на языках, где существует такая конструкция.

## Как можно модифицировать циклы

Стандартный цикл по счетчику или условию можно изменить. Это редко нужно в коммерческой разработке, но может пригодиться при реализации алгоритмов.

**Цикл по структуре данных.** Это цикл for in / for of, о котором мы уже говорили. Обычным циклом тоже можно пройти по массиву: запустить счетчик от 0 до длины структуры данных. Но тут есть детали, которые стоит прояснить подробнее.

Структура данных должна быть итерируемой. Это свойство некоторых сущностей в программировании — оно говорит, что содержимое сущности можно перечислить. У итерируемых объектов есть внутренний итератор — указатель, который служит для перечисления.

Если структура не итерируемая, то пройти по ней циклом for in / for of обычно нельзя. В большинстве языков программирования это работает именно так.

Структуру можно сделать итерируемой: написать свой итератор или присоединить стандартный. Такая возможность есть в большинстве языков программирования и помогает тонко управлять перебором структур данных.

**Цикл в обратную сторону.** Тут все проще: цикл for можно запустить не только от 0 до какого-то числа, но и наоборот. Тогда итератор на каждом шаге будет не увеличиваться, а уменьшаться на единицу. Соответственно, цикл пройдет столько же раз, но в обратном направлении. Иногда эта возможность бывает полезной.

Кстати, повернуть цикл for в другую сторону — не единственная его модификация. Можно, например, сделать цикл с шагом 2 и больше, чтобы итератор изменялся не на 1, а на 2 или другое число. Можно вообще не складывать с ним или вычитать из него числа, а умножать или делить. Вариаций много. Но используют их не так часто, чтобы не усложнять код: хорошая практика — делать программу понятной и легко читаемой.

**Вложенный цикл.** Его иногда называют двойным циклом. Это цикл, в который вложен другой цикл. Чаще всего это цикл for.

Тело внешнего цикла — внутренний цикл. А уже внутри могут быть разные подпрограммы.

![[a7168b1ced4157bde6605f0cd596b64a_MD5.png]]

Вложенными циклами могут пользоваться, например, для вычислений в двумерных структурах данных: матрицах, [тензорах](https://blog.skillfactory.ru/glossary/tensorflow/). Но в целом считается, что если использования вложенных циклов можно избежать, лучше так и сделать.

На каждом шаге внешнего цикла выполняется весь внутренний, целиком. Если внешний цикл происходит N раз, а внутренний — M раз, то общее количество итераций во вложенном цикле — N * M. Это много. Поэтому вложенные циклы ресурсоемкие, и ими пользуются, только если без них не обойтись. К тому же конструкция из двух циклов друг в друге серьезно усложняет читаемость кода.

**Бесконечный цикл.** Если в цикле нет условия для выхода, подпрограмма внутри него будет повторяться бесконечно. Она завершится, только если прервать исполнение всего кода.

Бесконечным чаще всего становится цикл while, но в теории таким можно сделать и цикл for — например, если не менять итератор или установить невозможное условие для выхода.

Зачастую бесконечный цикл — ошибка начинающих программистов, которые неверно описали условие. Но есть ситуации, когда бесконечное повторение — штатный режим работы. Например, программа в бесконечном цикле раз в несколько миллисекунд обновляет изображение на экране — это закончится, только если выйти из нее.

## Как прервать цикл

Существует несколько способов остановить выполнение цикла. Чаще всего используют тот, который предусмотрен самой конструкцией, — невыполнение условия. Но есть и другие возможности. Пользоваться ими не всегда корректно.

**Невыполнение условия.** Наиболее частый вариант: условие для продолжения цикла больше не выполняется. Итератор достиг нужного значения, или переменная, которую нужно было отыскать, найдена. Тогда цикл прекращается, программа начинает выполнять код, который был написан после него.

Условия могут быть разными, в том числе сложными, состоящими из нескольких частей. Ниже мы расскажем про break и continue — в большинстве случаев грамотно составленные условия помогают обойтись без использования этих [операторов](https://blog.skillfactory.ru/glossary/operator-v-programmirovanii/).

**Пропуск итерации.** Если по какой-то причине в цикле нужно закончить итерацию раньше времени и перейти на следующую, для этого есть специальная команда. Обычно она называется continue. По сути, это оператор, который говорит программе: «Закончи это повторение, продолжи со следующего шага».

Continue нужно просто написать в том месте, где вы хотите выйти из текущей итерации, — например, если в программе выполнилось какое-то условие.

На практике continue используется не слишком часто, во многих языках его считают плохой практикой. Его можно заменить условным оператором.

**Выход из цикла.** Можно экстренно выйти из цикла в любой момент. Для этого во многих языках программирования существует команда break. Она означает «Прерви выполнение подпрограммы и выйди из нее».

Когда программа доходит до этой команды, она выходит из цикла или условия и начинает выполнять код, который идет дальше. Никаких итераций больше не происходит. Например, мы искали в цикле какое-то число, нашли его — дальше проходить по циклу не нужно. Можно из него выйти.

Использование break для выхода из циклов тоже считают плохой практикой в большинстве языков программирования. Считается, что этот оператор нарушает стройность и логику работы программы, делает код сложнее в отладке. Поэтому пользоваться им без крайней нужды не рекомендуется.

Команду можно использовать не только в циклах, но и, например, в условных структурах if/else.

**Пауза.** Некоторые языки дают возможность временно приостановить цикл, как бы установить задержку для его выполнения. Например, подождать несколько секунд — для этого есть специальные функции. Как реализовать такую возможность, зависит от языка и ситуации.

## Что нужно знать при использовании циклов

В некоторых языках циклы использовать принято, только если нет альтернативы. Это связано с особенностями подхода к программированию. Например, в JavaScript считается хорошей практикой по возможности пользоваться для обработки массивов функциями высшего порядка, а к циклам прибегать, только если иначе никак.

Циклы, особенно вложенные, отнимают довольно много ресурсов. Они менее ресурсоемкие, чем [рекурсия](https://blog.skillfactory.ru/glossary/rekursiya/), но, если неоптимально решить какую-то задачу, можно потерять много памяти. Это стоит учитывать при реализации алгоритмов.

Пользоваться операторами break и continue без нужды — плохая практика в большинстве языков программирования. Они нарушают структуру программы, делают код менее логичным и предсказуемым.

При использовании циклов нужно следить, насколько правильно описан и подсчитывается итератор. Иначе есть риск получить бесконечный или неверно работающий цикл.

Хотите узнать больше про языки программирования? Запишитесь на курсы и станьте разработчиком на одном из востребованных современных языков.