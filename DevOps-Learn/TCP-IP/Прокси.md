Содержание

1. 1. [Кто пользуется прокси-серверами](https://blog.skillfactory.ru/glossary/proksi/#кто-пользуется-проксисерверами)
2. 2. [Для чего нужны прокси](https://blog.skillfactory.ru/glossary/proksi/#для-чего-нужны-прокси)
3. 3. [Типы прокси](https://blog.skillfactory.ru/glossary/proksi/#типы-прокси)
4. 4. [Протоколы прокси](https://blog.skillfactory.ru/glossary/proksi/#протоколы-прокси)
5. 5. [Прокси, VPN и Tor: в чем разница](https://blog.skillfactory.ru/glossary/proksi/#прокси-vpn-и-tor-в-чем-разница)
6. 6. [VPN для браузеров — это прокси](https://blog.skillfactory.ru/glossary/proksi/#vpn-для-браузеров--это-прокси)
7. 7. [Насколько безопасно пользоваться прокси](https://blog.skillfactory.ru/glossary/proksi/#насколько-безопасно-пользоваться-прокси)
8. 8. [Как выбрать прокси-сервер](https://blog.skillfactory.ru/glossary/proksi/#как-выбрать-проксисервер)
9. 9. [Как настроить прокси-сервер](https://blog.skillfactory.ru/glossary/proksi/#как-настроить-проксисервер)

**Прокси (proxy)**, или прокси-сервер — это сервер-посредник между пользователем и интернет-ресурсом. Человек подключается не напрямую к серверу нужного сайта, а к прокси-серверу — и уже он передает данные на сайт и отправляет обратно в браузер пользователя.

Слово proxy переводится с английского как «посредник, представитель». Оно хорошо отражает суть: прокси-сервер перехватывает трафик и «посредничает» между пользователем и сайтом. При этом данные пользователя оказываются скрыты от сайта.

Прокси-сервер можно сравнить с почтовым отделением. Когда мы отправляем кому-то письмо, мы не присылаем его напрямую в почтовый ящик получателя, а идем на почту. Уже почта доставляет сообщение адресату, а потом передает нам ответ.

Разница только в том, что с почтой мы знаем, кто отправил письмо — это написано на конверте. А прокси сообщает целевому серверу только информацию о себе, потому что технически к сайту подключается он, а не пользователь.

## Кто пользуется прокси-серверами

- Компании, которые хотят **контролировать трафик и доступ** своих сотрудников к интернету. Они используют прокси для отслеживания и блокировки развлекательных сайтов.
- Пользователи, которые стремятся **обойти блокировки** сайтов, бан по IP и другие способы ограничения доступа со стороны веб-ресурсов. Также прокси могут применяться для ускорения и кэширования страниц — подробнее ниже.
- Специалисты, которым бывает нужно контролировать трафик или **скрывать информацию** о своем устройстве, например, SMM-специалисты или [тестировщики](https://blog.skillfactory.ru/kto-takoj-testirovshhik-po/).

## Для чего нужны прокси

**Доступ к заблокированным ресурсам.** К серверам сайта подключается прокси, а не пользователь напрямую. Поэтому сайт получает информацию о прокси-сервере, его местоположении и IP-адресе — а не о самом пользователе. Возможно такое: человек находится в России, а сайт думает, что он, например, в Нидерландах, потому что там расположен его прокси-сервер.

Эта особенность позволяет использовать прокси для обхода блокировок — и именно для таких целей его в основном применяют частные лица. Ведь блокируют сайты чаще всего для определенных IP. Также с помощью прокси можно открыть ресурс, заблокированный для определенной страны.

Тут есть подводные камни: популярные адреса прокси-серверов вносятся в базы и блокируются. Поэтому, чтобы сохранять доступ, нужно использовать менее известные сервисы или периодически менять адреса прокси. А можно и самостоятельно «поднять» сервер, но это сложнее и не всегда оправдано.

**Сокрытие информации об устройстве.** Этот сценарий использования связан с предыдущим: обычно сведения о себе скрывают, чтобы обойти блокировку. Но это не единственная причина. Человек может не хотеть сообщать какому-то сайту, что зашел на него с определенного IP, например, чтобы его не «догоняла» реклама. Второй вариант — у человека есть подозрения в благонадежности сайта, и с помощью прокси он хочет защитить свои данные. Впрочем, метод не самый надежный — ниже мы поговорим об этом подробнее.

**Блокировка и слежка.** С помощью прокси можно не только обойти блокировку, но и ограничить доступ к какому-то ресурсу. Этим обычно занимаются компании: например, прописывают в корпоративном прокси правило не пропускать трафик в социальные сети. Так поступают для конфиденциальности, чтобы не допустить утечки данных, а также для контроля сотрудников. Прокси в этом случае выполняет роль своеобразного файервола.

Также компании могут использовать корпоративные прокси для отслеживания трафика и проверки, как и для чего сотрудники пользуются интернетом.

**Ускорение и кэширование.** Вообще-то нередко использование прокси-серверов, особенно бесплатных, тормозит интернет. Но есть исключения. Некоторые прокси специально спроектированы для ускорения доступа к сети.

Это происходит по одной из двух технологий:

- сжатие трафика — прокси-сервер обрезает и оптимизирует контент, который много весит, например, рекламу. В итоге трафика становится меньше, и интернет ускоряется;
- кэширование — прокси-сервер сохраняет копии страниц в собственном кэше и предоставляет к ним доступ оттуда. Доступ из кэша быстрее, к тому же копию страницы можно просмотреть, даже если ее оригинал удалили. Со временем копию удалят тоже, но не сразу.

Такими технологиями для ускорения страниц пользуются, например, браузеры и поисковые системы. Турбо-режим и возможность открытия копии страницы через поисковую строку — примеры реализации.

**Профессиональные задачи.** Например, прокси-серверами могут пользоваться при тестировании, чтобы проверить работу системы с IP-адресами из разных стран. Второй вариант — маркетинг: к примеру, у SMM-специалиста может быть несколько аккаунтов в соцсети, и без прокси социальная сеть может принять его за злоумышленника.

**Возможности прокси-серверов**

- Перехватывать трафик с компьютера пользователя и отдавать его на сайт как бы от своего имени.
- Возвращать пользователю данные, которые сервер сайта прислал прокси в ответ.
- Скрывать реальные данные пользователя, например, IP-адрес и местоположение, подменять их своими.
- Ограничивать трафик от компьютера пользователя или отслеживать его — такое применяется в компаниях.
- Обходить блокировки по IP-адресу или по географическому положению.
- Кэшировать данные сайтов и «резать» сомнительный контент, ускорять тем самым интернет-соединение.
## Типы прокси

Прокси-серверы могут серьезно различаться характеристиками в зависимости от назначения. Вот какие их типы можно выделить:

### Прозрачные, анонимные и искажающие

- Прозрачные сообщают всю информацию о пользователе и не заменяют его данные, поэтому не могут использоваться для обхода блокировок. Они обычно нужны для ускорения работы.
- Анонимные не выдают информацию о пользователе, но сообщают, что являются прокси-серверами.
- Искажающие отдают серверам сайта ложные IP-адреса.

Так называемые элитные прокси также скрывают, что являются прокси, чтобы не попасть в черные списки сайтов.

### Серверные, резидентные и мобильные

- Серверные прокси — это серверы в дата-центрах, часто принадлежащие соответствующим сервисам, например, анонимайзерам. Они недорогие, но из-за популярности часто оказываются в черных списках.
- Резидентные находятся у провайдера интернет-услуг и с точки зрения сайтов не отличаются от обычного пользователя — IP реальные и ведут к провайдеру. Такие серверы дороже, но надежнее и функциональнее.
- Мобильные прокси аналогичны резидентным, но находятся не у провайдера интернета, а у сотовых операторов. То есть они имитируют не компьютер в сети провайдера, а телефон с мобильным интернетом. Предназначены для мобильных устройств и обычно используются для SMM либо тестирования.

### Публичные и приватные

- Публичные, или открытые прокси общедоступны. Они бесплатны, для работы с ними бывает не нужна даже регистрация. С ними легко работать. Но такие прокси небезопасны и не очень функциональны. Они в черном списке у многих ресурсов, и есть риск, что с них произойдет утечка персональных данных. Кроме того, из-за высокой нагрузки они зачастую работают медленно.
- Приватные прокси закрыты, и доступ к ним есть только у клиентов компании, которая их предоставляет. Как правило они платные, требуют регистрации. Посторонний человек не сможет получить доступ к таким прокси. Риск, что данные скомпрометируют, ниже, так как владелец серверов получает за услугу деньги и вряд ли захочет рисковать репутацией.

## Протоколы прокси

Прокси-серверы работают по разным протоколам, обеспечивающим связь с интернетом. Их несколько — в основном таких же, какие используются для доступа к интернету и для обычных серверов. Правда, есть и специфические для прокси-серверов протоколы.

Если прокси поддерживает только один из перечисленных протоколов, значит, с другими он скорее всего работать не будет. Исключение — SOCKS и Shadowsocks.

**FTP**. Это протокол передачи файлов, которым часто пользуются при работе с серверным ПО. С его помощью файлы передаются между удаленными серверами. Протокол очень старый, старше, чем привычные нам HTTP и HTTPS. В основном его применяют при работе с FTP-серверами, а не при обычном веб-серфинге.

**HTTP и HTTPS**. Это наиболее привычные нам протоколы, по которым передается информация в сети. HTTP старше и не шифрует трафик, HTTPS — защищенный протокол с шифрованием. HTTP-прокси, которые поддерживают только исходный протокол, не могут работать с HTTPS. Поэтому сейчас такие прокси-сервера встречаются не слишком часто: это неудобно, ведь HTTPS в настоящее время использует большинство известных сайтов.

**SOCKS**. Это комплексный протокол и, можно сказать, стандарт для прокси-серверов. Он обеспечивает передачу данных и по HTTP, и по HTTPS, и по FTP. Есть и еще несколько менее известных обычному пользователю протоколов, которые тоже поддерживает SOCKS, например, Gopher.

Сейчас существует две версии: SOCKS 4 для прозрачной передачи данных без аутентификации и SOCKS 5, который требует аутентификации. Кроме того, SOCKS 5 поддерживает протокол UDP, доменные имена и адреса IPv6. SOCKS 5 не имеет обратной совместимости с SOCKS 4.

**Shadowsocks**. Это протокол, основанный на SOCKS и созданный китайскими пользователями для обхода блокировок интернета. Его особенность — в шифровании: данные, которые передаются по этому протоколу от пользователя к прокси-серверу, шифруются. Причем выборочно: пользователь сам может указать, какую информацию хочет скрыть.

В результате протокол обеспечивает большую безопасность при передаче информации, чем обычный SOCKS, и лучше обходит блокировки. К тому же трафик маскируется под обычное HTTPS-подключение, поэтому прокси сложно распознать следящим системам — ниже риск попасть в черный список. ==Но стоит учитывать: зашифрован оказывается только тот поток данных, который идет от пользователя к прокси-серверу. Полностью информация не шифруется.==

## Прокси, VPN и Tor: в чем разница

Прокси-сервер — самый простой, но не единственный способ обеспечить себе анонимность в интернете. Его часто критикуют за слабую надежность. Есть еще две технологии, более сложные, но и более надежные в некоторых аспектах.

**Прокси**. Прокси служит посредником для данных, но сам по себе ничего не шифрует. Даже Shadowsocks шифрует только данные, которые передаются от пользователя серверу — не наоборот. А данные самого пользователя при желании можно украсть с прокси-сервера.

Еще одно отличие прокси: он работает не со всем трафиком, а только с тем, что идет от определенного приложения. Например, от браузера или программы музыкального сервиса. А если программа создает несколько подключений, придется «заворачивать» в прокси весь ее трафик — это не всегда удобно.

**VPN**. VPN тоже работает как посредник. Разница в том, что при подключении через VPN создается канал шифрования. То есть шифруется весь трафик — поэтому безопасность при использовании такого метода выше.

**Tor**. Tor — это система так называемой луковой маршрутизации. Она называется луковой, потому что в ней предусмотрено несколько слоев защиты, как в луковице. Промежуточных серверов-посредников в этой схеме несколько. Последний из них, выходной, выводит трафик в сеть.

Выходные сервера «поднимают» сами пользователи. Они видят трафик, но не того, кто послал эту информацию.

Технология считается более надежной, чем прокси, за счет многослойного посредничества, но и она далека от идеала. Скорость интернета при подключении через Tor низкая. Кроме того, владельцы выходных серверов — «слабое звено». Они могут видеть весь трафик, а это способно привести к потере данных.

## VPN для браузеров — это прокси

Иногда прокси-серверы легко перепутать с VPN. Это касается в первую очередь браузерных расширений для обхода блокировок. Их предоставляют известные VPN-сервисы, поэтому их принято тоже считать VPN, хотя на самом деле это не так.

Технология VPN устроена так, что соединение не получится настроить через браузерное расширение — только через программу, скачанную на устройство. Это происходит, потому что VPN шифрует весь трафик с компьютера, а не от конкретной программы. А расширения для браузера, даже если они называются VPN, представляют собой прокси. Такие сервисы скрывают только трафик браузера, а не все, что идет с компьютера. 

Чаще всего эти прокси используют протокол Shadowsocks. Тем не менее при их применении следует быть внимательнее и помнить, что трафик не шифруется полностью.

## Насколько безопасно пользоваться прокси

Одна из главных проблем и минусов прокси — недостаток безопасности. Данные проходят через прокси-сервер без дополнительного шифрования. При желании владелец сервера или злоумышленник может их перехватить, получить информацию о пользователе и конфиденциальные данные, которыми тот обменивался с сайтом.

Например, прокси может вместе с остальным трафиком перехватить логин и пароль или данные карты. ==Поэтому пользоваться прокси-серверами рекомендуется только в том случае, если вы полностью доверяете поставщику услуги.==

В случае с корпоративными прокси такая проблема стоит в меньшей мере: обычно прокси-сервера, как и другая инфраструктура сети, контролируется компанией, а не сторонними сервисами. Но тем не менее прокси более чувствителен к взлому, чем VPN или Tor.

## Как выбрать прокси-сервер

Выбор подходящего прокси зависит от целей его использования.

- Если вам нужно ускорить интернет и «порезать» рекламные баннеры, выбирайте прозрачные прокси от надежных поставщиков, например, турбо-режимы от известных браузеров или поисковых систем.
- Если вы хотите обойти блокировки, вам подойдет анонимный или искажающий прокси, причем желательно приватный и платный. Бесплатные сервисы работают хуже, и с ними выше риск утечки данных. К тому же у многих сайтов они в черном списке.
- Второй вариант для желающих обойти блокировку — VPN или Tor. VPN удобнее и универсальнее, работает быстрее, чем Tor.
- Если вы — владелец корпоративной сети и хотите ограничить для пользователей доступ к развлекательным сайтам, это можно сделать с помощью брандмауэра или прокси-сервера. Крупные компании пользуются собственной инфраструктурой, более мелкие отдают организацию прокси на аутсорс.

## Как настроить прокси-сервер

Большинство прокси для обычных пользователей существует в виде браузерных расширений или программ для компьютера или телефона. Их необязательно как-то специально настраивать. Достаточно включить соответствующее ПО, и прокси-сервер автонастроится. Пользователь сможет изменить часть параметров, но ограниченно: например, сменить адрес прокси-сервера или протокол подключения. Подробная настройка обычно нужна более сложным решениям.

Обычно в операционных системах домашних компьютеров и серверов есть инструментарий для настроек прокси-серверов. Там можно указать адрес прокси, которым вы хотите пользоваться, его имя или IP-адрес, а также порт доступа. Такие инструменты, как правило, нужны при настройках офисных компьютеров или при организации иной инфраструктуры. По умолчанию в ОС включена автонастройка прокси.

Но в большинстве случаев специфическая настройка или не нужна, или очень ограничена. Основная сложность в работе с прокси — выбрать надежного поставщика, которому можно доверять.